<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypto AutoTrader Pro - ìë™ë§¤ë§¤ ì‹œë®¬ë ˆì´í„°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/recharts@2.5.0/dist/Recharts.js"></script>
</head>
<body class="bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 min-h-screen">
    <div id="app"></div>

    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <script type="text/babel">
        const { useState, useEffect } = React;

        function CryptoAutoTrader() {
            const [exchange, setExchange] = useState('upbit');
            const [tradingMode, setTradingMode] = useState('test');
            const [isTrading, setIsTrading] = useState(false);
            const [activeTab, setActiveTab] = useState('dashboard');
            
            const [strategy, setStrategy] = useState({
                type: 'volatility_breakout',
                kValue: 0.5,
                targetCoin: 'BTC',
                investmentRatio: 100,
                stopLoss: 5,
                takeProfit: 10,
            });

            const [accountInfo, setAccountInfo] = useState({
                balance: 5000000,
                totalValue: 5000000,
                profitLoss: 0,
                profitLossPercent: 0
            });

            const [prices, setPrices] = useState({
                BTC: { current: 145200000, change: 2340000, changePercent: 1.61 },
                ETH: { current: 4820000, change: -15000, changePercent: -0.31 },
                XRP: { current: 850, change: 12, changePercent: 1.43 }
            });

            const [logs, setLogs] = useState([
                { time: new Date().toLocaleTimeString('ko-KR'), type: 'success', message: 'âœ… í”„ë¡œê·¸ë¨ì´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤' },
                { time: new Date().toLocaleTimeString('ko-KR'), type: 'info', message: 'ğŸ“Š í…ŒìŠ¤íŠ¸ ëª¨ë“œë¡œ ì‹¤í–‰ ì¤‘ì…ë‹ˆë‹¤' },
            ]);

            const [trades, setTrades] = useState([]);

            // ê°€ê²© ì—…ë°ì´íŠ¸ ì‹œë®¬ë ˆì´ì…˜
            useEffect(() => {
                if (isTrading) {
                    const interval = setInterval(() => {
                        setPrices(prev => ({
                            BTC: {
                                current: prev.BTC.current + (Math.random() - 0.5) * 1000000,
                                change: (Math.random() - 0.5) * 2000000,
                                changePercent: (Math.random() - 0.5) * 3
                            },
                            ETH: {
                                current: prev.ETH.current + (Math.random() - 0.5) * 50000,
                                change: (Math.random() - 0.5) * 100000,
                                changePercent: (Math.random() - 0.5) * 2
                            },
                            XRP: {
                                current: prev.XRP.current + (Math.random() - 0.5) * 10,
                                change: (Math.random() - 0.5) * 20,
                                changePercent: (Math.random() - 0.5) * 2
                            }
                        }));
                    }, 3000);
                    return () => clearInterval(interval);
                }
            }, [isTrading]);

            // ìë™ ê±°ë˜ ì‹œë®¬ë ˆì´ì…˜
            useEffect(() => {
                if (isTrading) {
                    const tradeInterval = setInterval(() => {
                        const shouldTrade = Math.random() > 0.7; // 30% í™•ë¥ ë¡œ ê±°ë˜
                        if (shouldTrade) {
                            const isBuy = Math.random() > 0.5;
                            const price = prices[strategy.targetCoin].current;
                            const amount = 0.01;
                            
                            const newTrade = {
                                time: new Date().toLocaleTimeString('ko-KR'),
                                type: isBuy ? 'BUY' : 'SELL',
                                coin: strategy.targetCoin,
                                price: Math.round(price),
                                amount: amount,
                                total: Math.round(price * amount)
                            };
                            
                            setTrades(prev => [newTrade, ...prev.slice(0, 19)]);
                            
                            addLog('success', `${isBuy ? 'ë§¤ìˆ˜' : 'ë§¤ë„'} ì²´ê²°: ${strategy.targetCoin} ${amount} @ â‚©${Math.round(price).toLocaleString()}`);
                            
                            // ìˆ˜ìµ ì—…ë°ì´íŠ¸
                            const profit = isBuy ? -newTrade.total : newTrade.total * 1.02; // 2% ìˆ˜ìµ ê°€ì •
                            setAccountInfo(prev => ({
                                ...prev,
                                profitLoss: prev.profitLoss + Math.round(profit * 0.02),
                                profitLossPercent: ((prev.profitLoss + Math.round(profit * 0.02)) / prev.balance * 100).toFixed(2)
                            }));
                        }
                    }, 10000); // 10ì´ˆë§ˆë‹¤
                    
                    return () => clearInterval(tradeInterval);
                }
            }, [isTrading, prices, strategy.targetCoin]);

            const addLog = (type, message) => {
                const newLog = {
                    time: new Date().toLocaleTimeString('ko-KR'),
                    type,
                    message
                };
                setLogs(prev => [newLog, ...prev.slice(0, 49)]);
            };

            const toggleTrading = () => {
                if (isTrading) {
                    setIsTrading(false);
                    addLog('warning', 'â¸ï¸ ìë™ë§¤ë§¤ê°€ ì¤‘ì§€ë˜ì—ˆìŠµë‹ˆë‹¤');
                } else {
                    setIsTrading(true);
                    addLog('success', 'â–¶ï¸ ìë™ë§¤ë§¤ê°€ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤');
                    addLog('info', `ğŸ“ˆ ì „ëµ: ${strategy.type}, ì½”ì¸: ${strategy.targetCoin}, Kê°’: ${strategy.kValue}`);
                }
            };

            return (
                <div className="min-h-screen p-4 md:p-8 text-white">
                    {/* í—¤ë” */}
                    <div className="max-w-7xl mx-auto mb-8">
                        <div className="flex flex-col md:flex-row items-start md:items-center justify-between gap-4">
                            <div>
                                <h1 className="text-3xl md:text-4xl font-bold bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text text-transparent mb-2">
                                    Crypto AutoTrader Pro
                                </h1>
                                <p className="text-slate-400">ì•”í˜¸í™”í ìë™ë§¤ë§¤ ì‹œë®¬ë ˆì´í„° (ë°ëª¨ ë²„ì „)</p>
                            </div>
                            
                            <div className="flex items-center gap-3">
                                <div className="px-4 py-2 bg-slate-800/70 rounded-xl border border-slate-700">
                                    <div className="text-xs text-slate-400">ê±°ë˜ì†Œ</div>
                                    <div className="font-semibold">{exchange === 'upbit' ? 'ì—…ë¹„íŠ¸' : 'ë¹—ì¸'}</div>
                                </div>
                                <div className="px-4 py-2 rounded-xl border bg-emerald-500/20 border-emerald-500/50 text-emerald-400">
                                    <div className="text-xs opacity-80">ëª¨ë“œ</div>
                                    <div className="font-semibold">ì‹œë®¬ë ˆì´ì…˜</div>
                                </div>
                                <button
                                    onClick={toggleTrading}
                                    className={`px-6 py-3 rounded-xl font-semibold transition-all shadow-lg ${
                                        isTrading
                                            ? 'bg-rose-500 hover:bg-rose-600'
                                            : 'bg-emerald-500 hover:bg-emerald-600'
                                    }`}
                                >
                                    {isTrading ? 'â¸ï¸ ì¤‘ì§€' : 'â–¶ï¸ ì‹œì‘'}
                                </button>
                            </div>
                        </div>
                    </div>

                    {/* íƒ­ ë„¤ë¹„ê²Œì´ì…˜ */}
                    <div className="max-w-7xl mx-auto mb-6">
                        <div className="flex gap-2 bg-slate-800/50 p-2 rounded-2xl border border-slate-700/50">
                            {[
                                { id: 'dashboard', label: 'ğŸ“Š ëŒ€ì‹œë³´ë“œ' },
                                { id: 'strategy', label: 'âš¡ ì „ëµ ì„¤ì •' },
                                { id: 'settings', label: 'âš™ï¸ ì„¤ì •' },
                            ].map(tab => (
                                <button
                                    key={tab.id}
                                    onClick={() => setActiveTab(tab.id)}
                                    className={`flex-1 px-4 py-2.5 rounded-xl font-semibold transition-all ${
                                        activeTab === tab.id
                                            ? 'bg-blue-500 text-white'
                                            : 'text-slate-400 hover:text-white hover:bg-slate-700/50'
                                    }`}
                                >
                                    {tab.label}
                                </button>
                            ))}
                        </div>
                    </div>

                    {/* ë©”ì¸ ì½˜í…ì¸  */}
                    <div className="max-w-7xl mx-auto">
                        {activeTab === 'dashboard' && (
                            <div className="space-y-6">
                                {/* ì£¼ìš” ì§€í‘œ */}
                                <div className="grid grid-cols-1 md:grid-cols-4 gap-4">
                                    <div className="bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl p-6 border border-slate-700/50">
                                        <div className="text-sm text-slate-400 mb-1">ì´ ìì‚°</div>
                                        <div className="text-2xl font-bold">â‚©{accountInfo.totalValue.toLocaleString()}</div>
                                    </div>
                                    <div className="bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl p-6 border border-slate-700/50">
                                        <div className="text-sm text-slate-400 mb-1">ì‹¤í˜„ ìˆ˜ìµ</div>
                                        <div className={`text-2xl font-bold ${accountInfo.profitLoss >= 0 ? 'text-emerald-400' : 'text-rose-400'}`}>
                                            â‚©{accountInfo.profitLoss.toLocaleString()}
                                        </div>
                                    </div>
                                    <div className="bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl p-6 border border-slate-700/50">
                                        <div className="text-sm text-slate-400 mb-1">ê±°ë˜ íšŸìˆ˜</div>
                                        <div className="text-2xl font-bold">{trades.length}ê±´</div>
                                    </div>
                                    <div className="bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl p-6 border border-slate-700/50">
                                        <div className="text-sm text-slate-400 mb-1">ì‹¤í–‰ ìƒíƒœ</div>
                                        <div className="text-2xl font-bold">{isTrading ? 'âœ… ì‘ë™ì¤‘' : 'â¸ï¸ ëŒ€ê¸°ì¤‘'}</div>
                                    </div>
                                </div>

                                {/* ì‹¤ì‹œê°„ ì‹œì„¸ */}
                                <div className="bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl p-6 border border-slate-700/50">
                                    <h3 className="text-lg font-bold mb-4">ğŸ“ˆ ì‹¤ì‹œê°„ ì‹œì„¸</h3>
                                    <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                                        {Object.entries(prices).map(([coin, data]) => (
                                            <div key={coin} className="p-4 bg-slate-800/50 rounded-xl">
                                                <div className="flex justify-between items-start mb-2">
                                                    <div>
                                                        <div className="font-semibold text-lg">{coin}/KRW</div>
                                                        <div className="text-2xl font-bold mt-1">â‚©{Math.round(data.current).toLocaleString()}</div>
                                                    </div>
                                                    <div className={`text-right ${data.changePercent >= 0 ? 'text-emerald-400' : 'text-rose-400'}`}>
                                                        <div className="font-semibold">{data.changePercent >= 0 ? 'â–²' : 'â–¼'} {Math.abs(data.changePercent).toFixed(2)}%</div>
                                                        <div className="text-sm">{data.changePercent >= 0 ? '+' : ''}â‚©{Math.round(data.change).toLocaleString()}</div>
                                                    </div>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>

                                {/* ìµœê·¼ ê±°ë˜ ë° ë¡œê·¸ */}
                                <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                                    <div className="bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl p-6 border border-slate-700/50">
                                        <h3 className="text-lg font-bold mb-4">ğŸ“‹ ìµœê·¼ ê±°ë˜</h3>
                                        <div className="space-y-3 max-h-80 overflow-y-auto">
                                            {trades.length > 0 ? trades.slice(0, 10).map((trade, idx) => (
                                                <div key={idx} className="flex justify-between p-3 bg-slate-800/50 rounded-xl">
                                                    <div>
                                                        <span className={`px-2 py-1 rounded text-xs font-semibold ${
                                                            trade.type === 'BUY' ? 'bg-emerald-500/20 text-emerald-400' : 'bg-rose-500/20 text-rose-400'
                                                        }`}>
                                                            {trade.type === 'BUY' ? 'ë§¤ìˆ˜' : 'ë§¤ë„'}
                                                        </span>
                                                        <span className="ml-2 text-sm text-slate-300">{trade.coin}</span>
                                                    </div>
                                                    <div className="text-right">
                                                        <div className="font-semibold">{trade.amount} {trade.coin}</div>
                                                        <div className="text-xs text-slate-400">{trade.time}</div>
                                                    </div>
                                                </div>
                                            )) : (
                                                <div className="text-center text-slate-500 py-8">ì•„ì§ ê±°ë˜ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤</div>
                                            )}
                                        </div>
                                    </div>

                                    <div className="bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl p-6 border border-slate-700/50">
                                        <h3 className="text-lg font-bold mb-4">ğŸ“ ì‹œìŠ¤í…œ ë¡œê·¸</h3>
                                        <div className="space-y-2 max-h-80 overflow-y-auto">
                                            {logs.map((log, idx) => (
                                                <div key={idx} className="flex gap-3 p-2 text-sm">
                                                    <span className="text-slate-500 text-xs">{log.time}</span>
                                                    <span className={`flex-1 ${
                                                        log.type === 'success' ? 'text-emerald-400' :
                                                        log.type === 'warning' ? 'text-amber-400' :
                                                        log.type === 'error' ? 'text-rose-400' : 'text-slate-300'
                                                    }`}>
                                                        {log.message}
                                                    </span>
                                                </div>
                                            ))}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}

                        {activeTab === 'strategy' && (
                            <div className="bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl p-6 border border-slate-700/50">
                                <h3 className="text-xl font-bold mb-6">âš¡ ê±°ë˜ ì „ëµ ì„¤ì •</h3>
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div>
                                        <label className="block text-sm font-semibold text-slate-300 mb-2">ì „ëµ ìœ í˜•</label>
                                        <select
                                            value={strategy.type}
                                            onChange={(e) => setStrategy({...strategy, type: e.target.value})}
                                            className="w-full bg-slate-800/70 border border-slate-600 text-white rounded-xl px-4 py-3"
                                        >
                                            <option value="volatility_breakout">ë³€ë™ì„± ëŒíŒŒ ì „ëµ</option>
                                            <option value="moving_average">ì´ë™í‰ê·  í¬ë¡œìŠ¤</option>
                                            <option value="rsi">RSI ê¸°ë°˜ ì „ëµ</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label className="block text-sm font-semibold text-slate-300 mb-2">ëŒ€ìƒ ì½”ì¸</label>
                                        <select
                                            value={strategy.targetCoin}
                                            onChange={(e) => setStrategy({...strategy, targetCoin: e.target.value})}
                                            className="w-full bg-slate-800/70 border border-slate-600 text-white rounded-xl px-4 py-3"
                                        >
                                            <option value="BTC">BTC (ë¹„íŠ¸ì½”ì¸)</option>
                                            <option value="ETH">ETH (ì´ë”ë¦¬ì›€)</option>
                                            <option value="XRP">XRP (ë¦¬í”Œ)</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label className="block text-sm font-semibold text-slate-300 mb-2">
                                            K ê°’: {strategy.kValue}
                                        </label>
                                        <input
                                            type="range"
                                            min="0"
                                            max="1"
                                            step="0.1"
                                            value={strategy.kValue}
                                            onChange={(e) => setStrategy({...strategy, kValue: parseFloat(e.target.value)})}
                                            className="w-full h-2 bg-slate-700 rounded-lg"
                                        />
                                    </div>
                                    <div>
                                        <label className="block text-sm font-semibold text-slate-300 mb-2">
                                            íˆ¬ì ë¹„ìœ¨: {strategy.investmentRatio}%
                                        </label>
                                        <input
                                            type="range"
                                            min="10"
                                            max="100"
                                            step="10"
                                            value={strategy.investmentRatio}
                                            onChange={(e) => setStrategy({...strategy, investmentRatio: parseInt(e.target.value)})}
                                            className="w-full h-2 bg-slate-700 rounded-lg"
                                        />
                                    </div>
                                    <div>
                                        <label className="block text-sm font-semibold text-slate-300 mb-2">ì†ì ˆë§¤ (%)</label>
                                        <input
                                            type="number"
                                            value={strategy.stopLoss}
                                            onChange={(e) => setStrategy({...strategy, stopLoss: parseFloat(e.target.value)})}
                                            className="w-full bg-slate-800/70 border border-slate-600 text-white rounded-xl px-4 py-3"
                                        />
                                    </div>
                                    <div>
                                        <label className="block text-sm font-semibold text-slate-300 mb-2">ìµì ˆë§¤ (%)</label>
                                        <input
                                            type="number"
                                            value={strategy.takeProfit}
                                            onChange={(e) => setStrategy({...strategy, takeProfit: parseFloat(e.target.value)})}
                                            className="w-full bg-slate-800/70 border border-slate-600 text-white rounded-xl px-4 py-3"
                                        />
                                    </div>
                                </div>
                                <button 
                                    onClick={() => addLog('success', 'âœ… ì „ëµì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤')}
                                    className="w-full mt-6 bg-blue-500 hover:bg-blue-600 text-white font-semibold py-3 rounded-xl"
                                >
                                    ì „ëµ ì €ì¥
                                </button>
                            </div>
                        )}

                        {activeTab === 'settings' && (
                            <div className="bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl p-6 border border-slate-700/50">
                                <h3 className="text-xl font-bold mb-6">âš™ï¸ ì„¤ì •</h3>
                                <div className="space-y-6">
                                    <div>
                                        <label className="block text-sm font-semibold text-slate-300 mb-3">ê±°ë˜ì†Œ ì„ íƒ</label>
                                        <div className="grid grid-cols-2 gap-4">
                                            <button
                                                onClick={() => setExchange('upbit')}
                                                className={`p-6 rounded-xl border-2 ${
                                                    exchange === 'upbit'
                                                        ? 'bg-blue-500/20 border-blue-500'
                                                        : 'bg-slate-800/50 border-slate-600'
                                                }`}
                                            >
                                                <div className="text-xl font-bold">ì—…ë¹„íŠ¸</div>
                                            </button>
                                            <button
                                                onClick={() => setExchange('bithumb')}
                                                className={`p-6 rounded-xl border-2 ${
                                                    exchange === 'bithumb'
                                                        ? 'bg-blue-500/20 border-blue-500'
                                                        : 'bg-slate-800/50 border-slate-600'
                                                }`}
                                            >
                                                <div className="text-xl font-bold">ë¹—ì¸</div>
                                            </button>
                                        </div>
                                    </div>

                                    <div className="p-4 bg-blue-500/10 border border-blue-500/30 rounded-xl">
                                        <div className="text-sm text-blue-200">
                                            ğŸ’¡ <strong>ì‹œë®¬ë ˆì´ì…˜ ëª¨ë“œ</strong><br/>
                                            ì´ê²ƒì€ ë°ëª¨ ë²„ì „ì…ë‹ˆë‹¤. ì‹¤ì œ ê±°ë˜ëŠ” ì´ë£¨ì–´ì§€ì§€ ì•Šìœ¼ë©°, ê°€ìƒ ë°ì´í„°ë¡œ ì‘ë™í•©ë‹ˆë‹¤.
                                            ì‹¤ì œ ê±°ë˜ë¥¼ ì›í•˜ì‹œë©´ ì„œë²„ ë²„ì „ì„ ì„¤ì¹˜í•´ì£¼ì„¸ìš”.
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}
                    </div>

                    {/* í‘¸í„° */}
                    <div className="max-w-7xl mx-auto mt-12 text-center text-slate-500 text-sm">
                        <p>âš ï¸ ì´ í”„ë¡œê·¸ë¨ì€ êµìœ¡ ëª©ì ì˜ ì‹œë®¬ë ˆì´í„°ì…ë‹ˆë‹¤. ì‹¤ì œ ê±°ë˜ì—ì„œ ë°œìƒí•˜ëŠ” ì†ì‹¤ì— ëŒ€í•´ ì±…ì„ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
                        <p className="mt-2">ì•”í˜¸í™”í íˆ¬ìëŠ” ë†’ì€ ìœ„í—˜ì„ ìˆ˜ë°˜í•©ë‹ˆë‹¤. ì‹ ì¤‘í•˜ê²Œ íˆ¬ìí•˜ì„¸ìš”.</p>
                    </div>
                </div>
            );
        }

        // ë Œë”ë§
        const root = ReactDOM.createRoot(document.getElementById('app'));
        root.render(<CryptoAutoTrader />);
    </script>
</body>
</html>
